# OpenChat React PC 应用

## 项目概述

OpenChat React PC 是一个基于 React 18+ 和 TypeScript 5+ 构建的现代化桌面聊天应用，使用 Vite 5+ 作为构建工具，Tailwind CSS 进行样式设计，支持 Tauri 桌面应用。

## 核心特性

- **现代化技术栈**：React 18+、TypeScript 5+、Vite 5+、Tailwind CSS
- **桌面应用支持**：基于 Tauri 构建，支持 Windows、macOS 和 Linux
- **实时通信**：WebSocket 客户端，支持消息队列优先级和心跳优化
- **状态管理**：使用 Zustand 进行轻量级状态管理
- **数据获取**：使用 React Query 进行数据获取和缓存
- **路由管理**：使用 React Router 进行客户端路由
- **依赖注入**：实现了完整的依赖注入系统
- **高级缓存**：支持 ARC 和分层缓存策略
- **安全措施**：包括 CSP 配置、输入验证和 XSS 保护
- **插件系统**：支持热插拔功能
- **微前端架构**：支持模块化开发和部署
- **高级算法**：集成了计数布隆过滤器和跳表
- **性能监控**：实时性能监控和分析系统
- **功能开关**：基于特性标志的功能管理系统
- **开发工具链**：包括代码生成器和工具链配置

## 项目结构

```
src/
  ├── app/              # 应用主组件
  ├── components/       # 可复用组件
  ├── services/         # 服务层
  ├── hooks/            # 自定义 hooks
  ├── utils/            # 工具函数
  ├── plugins/          # 插件系统
  ├── microfrontends/   # 微前端架构
  ├── di/               # 依赖注入系统
  ├── tools/            # 开发工具
  ├── tests/            # 测试文件
  ├── i18n/             # 国际化
  ├── main.tsx          # 应用入口
  └── index.css         # 全局样式
```

## 快速开始

### 安装依赖

```bash
npm install
```

### 开发模式运行

```bash
npm run dev          # 启动开发服务器
npm run dev:desktop  # 启动桌面应用开发模式
```

### 构建

```bash
npm run build          # 构建生产版本
npm run build:desktop  # 构建桌面应用
```

### 测试

```bash
npm run test          # 运行测试
npm run test:watch    # 运行测试并监视文件变化
npm run test:coverage # 运行测试并生成覆盖率报告
```

## 核心服务

### WebSocket 客户端

提供实时通信功能，支持消息队列优先级、心跳优化和错误处理。

### 错误服务

提供全局错误处理、错误分类和错误报告功能。

### 安全服务

提供输入验证、XSS 保护、CSRF 保护和 CSP 管理功能。

### 文件服务

提供文件上传、分块上传和断点续传功能。

### 内存服务

提供内存优化、内存泄漏检测和缓存管理功能。

### 缓存服务

提供高级缓存策略，包括 ARC 和分层缓存。

### 算法服务

提供高级算法，包括计数布隆过滤器和跳表。

### 性能服务

提供实时性能监控和分析功能。

### 功能开关服务

提供基于特性标志的功能管理系统。

### 工具链服务

提供代码生成和开发工具链管理功能。

## 插件系统

OpenChat 支持插件系统，允许通过插件扩展应用功能。插件支持热插拔，无需重启应用即可加载和卸载。

## 微前端架构

OpenChat 支持微前端架构，允许将应用拆分为多个独立部署的微前端，提高开发效率和部署灵活性。

## 高级算法

OpenChat 集成了多种高级算法，包括：

- **计数布隆过滤器**：用于高效的集合 membership 测试
- **跳表**：用于高效的查找、插入和删除操作

## 性能优化

OpenChat 实现了多种性能优化策略，包括：

- **内存优化**：通过内存服务管理内存使用
- **缓存策略**：使用高级缓存策略减少重复计算
- **渲染优化**：使用 React.memo 和其他优化技术减少不必要的渲染
- **网络优化**：通过 WebSocket 和分块上传优化网络传输

## 安全措施

OpenChat 实现了多种安全措施，包括：

- **输入验证**：验证所有用户输入
- **XSS 保护**：防止跨站脚本攻击
- **CSRF 保护**：防止跨站请求伪造攻击
- **CSP 配置**：内容安全策略配置
- **安全扫描**：定期安全扫描

## 开发工具

OpenChat 提供了多种开发工具，包括：

- **代码生成器**：生成组件、服务和测试文件
- **工具链配置**：统一的开发工具链配置
- **测试框架**：基于 Vitest 的测试框架

## 国际化

OpenChat 支持国际化，使用 i18next 实现多语言支持。

## 贡献指南

1. **环境设置**：克隆仓库并安装依赖
2. **开发流程**：创建分支、开发功能、运行测试
3. **代码规范**：遵循项目的代码规范
4. **提交代码**：提交 PR 并等待审核

## 许可证

MIT
