# 每个模块定义需求

本文档详细描述了前端项目的各个业务模块的目录架构、页面文件定义和产品说明。

## 1. 即时通讯模块 (im)

即时通讯模块是应用的基础通信模块，提供实时消息传递功能。

### 产品说明
- 支持一对一私聊和群聊功能
- 实现实时消息推送和离线消息存储
- 提供消息历史记录和搜索功能
- 支持多种消息类型（文本、图片、文件、表情等）
- 提供在线状态显示和消息送达回执

### 目录架构
```
src/modules/im/
├── pages/                  # IM相关页面
│   ├── ChatPage.tsx        # 聊天页面
│   ├── ConversationListPage.tsx  # 对话列表页面
│   ├── GroupChatPage.tsx   # 群聊页面
│   └── ContactListPage.tsx # 联系人列表页面
├── components/             # IM模块内组件
│   ├── MessageBubble.tsx   # 消息气泡组件
│   ├── MessageInput.tsx    # 消息输入组件
│   ├── MessageList.tsx     # 消息列表组件
│   ├── ContactCard.tsx     # 联系人卡片组件
│   └── ChatHeader.tsx      # 聊天头部组件
├── services/               # IM模块服务
│   ├── messageService.ts   # 消息服务
│   ├── contactService.ts   # 联系人服务
│   └── groupService.ts     # 群组服务
├── hooks/                  # IM模块钩子
│   ├── useMessageListener.ts  # 消息监听钩子
│   └── useConnectionStatus.ts # 连接状态钩子
├── types/                  # IM模块类型定义
│   ├── message.ts          # 消息类型定义
│   ├── contact.ts          # 联系人类型定义
│   └── conversation.ts     # 对话类型定义
├── utils/                  # IM模块工具函数
│   ├── messageFormatter.ts # 消息格式化工具
│   └── messageStorage.ts   # 消息存储工具
└── index.ts                # IM模块导出
```

## 2. 实时通信模块 (rtc)

实时通信模块提供音视频通话和直播功能。

### 产品说明
- 支持一对一音视频通话
- 提供多人视频会议功能
- 实现屏幕共享和白板协作
- 支持直播推拉流功能
- 提供高质量音视频编解码

### 目录架构
```
src/modules/rtc/
├── pages/                  # RTC相关页面
│   ├── VideoCallPage.tsx   # 视频通话页面
│   ├── AudioCallPage.tsx   # 音频通话页面
│   ├── ConferencePage.tsx  # 会议页面
│   └── LiveStreamPage.tsx  # 直播页面
├── components/             # RTC模块内组件
│   ├── VideoPlayer.tsx     # 视频播放器组件
│   ├── VideoCallControls.tsx # 视频通话控制组件
│   ├── ParticipantView.tsx # 参会者视图组件
│   └── ScreenShare.tsx     # 屏幕共享组件
├── services/               # RTC模块服务
│   ├── callService.ts      # 通话服务
│   ├── streamService.ts    # 流媒体服务
│   └── conferenceService.ts # 会议服务
├── hooks/                  # RTC模块钩子
│   ├── useRTCConnection.ts # RTC连接钩子
│   └── useMediaDevices.ts  # 媒体设备钩子
├── types/                  # RTC模块类型定义
│   ├── call.ts             # 通话类型定义
│   ├── stream.ts           # 流媒体类型定义
│   └── conference.ts       # 会议类型定义
├── utils/                  # RTC模块工具函数
│   ├── mediaProcessor.ts   # 媒体处理工具
│   └── connectionManager.ts # 连接管理工具
└── index.ts                # RTC模块导出
```

## 3. 认证模块 (auth)

认证模块负责用户的身份验证和权限管理。

### 产品说明
- 提供用户登录/注册功能
- 支持多种登录方式（手机号、邮箱、第三方登录）
- 实现JWT Token管理和自动刷新
- 提供用户权限验证和访问控制
- 支持密码找回和账户安全设置

### 目录架构
```
src/modules/auth/
├── pages/                  # 认证相关页面
│   ├── LoginPage.tsx       # 登录页面
│   ├── RegisterPage.tsx    # 注册页面
│   ├── ForgotPasswordPage.tsx # 忘记密码页面
│   └── ResetPasswordPage.tsx # 重置密码页面
├── components/             # 认证模块内组件
│   ├── LoginForm.tsx       # 登录表单组件
│   ├── RegisterForm.tsx    # 注册表单组件
│   ├── SocialLoginButtons.tsx # 社交登录按钮组件
│   └── VerificationCodeInput.tsx # 验证码输入组件
├── services/               # 认证模块服务
│   ├── authService.ts      # 认证服务
│   ├── userService.ts      # 用户服务
│   └── tokenService.ts     # Token服务
├── hooks/                  # 认证模块钩子
│   ├── useAuth.ts          # 认证钩子
│   └── useAuthRedirect.ts  # 认证重定向钩子
├── types/                  # 认证模块类型定义
│   ├── user.ts             # 用户类型定义
│   └── auth.ts             # 认证类型定义
├── utils/                  # 认证模块工具函数
│   ├── validation.ts       # 验证工具
│   └── tokenUtils.ts       # Token工具
└── index.ts                # 认证模块导出
```

## 4. 用户模块 (user)

用户模块管理用户的基本信息和设置。

### 产品说明
- 提供用户个人信息管理功能
- 实现头像上传和昵称设置
- 支持用户隐私设置和偏好配置
- 提供用户关注和粉丝管理
- 实现用户积分和等级系统

### 目录架构
```
src/modules/user/
├── pages/                  # 用户相关页面
│   ├── ProfilePage.tsx     # 个人资料页面
│   ├── EditProfilePage.tsx # 编辑资料页面
│   ├── UserListPage.tsx    # 用户列表页面
│   └── UserDetailPage.tsx  # 用户详情页面
├── components/             # 用户模块内组件
│   ├── UserProfileCard.tsx # 用户资料卡片组件
│   ├── AvatarUpload.tsx    # 头像上传组件
│   ├── UserInfoForm.tsx    # 用户信息表单组件
│   └── UserStats.tsx       # 用户统计组件
├── services/               # 用户模块服务
│   ├── userProfileService.ts # 用户资料服务
│   └── userRelationService.ts # 用户关系服务
├── hooks/                  # 用户模块钩子
│   ├── useUserProfile.ts   # 用户资料钩子
│   └── useUserRelations.ts # 用户关系钩子
├── types/                  # 用户模块类型定义
│   ├── profile.ts          # 资料类型定义
│   └── relation.ts         # 关系类型定义
├── utils/                  # 用户模块工具函数
│   ├── profileValidator.ts # 资料验证工具
│   └── avatarProcessor.ts  # 头像处理工具
└── index.ts                # 用户模块导出
```

## 5. 设置模块 (settings)

设置模块提供应用的各种配置选项。

### 产品说明
- 提供应用基本设置（语言、主题、字体大小等）
- 实现通知设置和隐私设置
- 支持账号安全设置和绑定管理
- 提供帮助与反馈功能
- 实现数据备份和恢复功能

### 目录架构
```
src/modules/settings/
├── pages/                  # 设置相关页面
│   ├── SettingsPage.tsx    # 设置主页
│   ├── AccountSettingsPage.tsx # 账号设置页面
│   ├── NotificationSettingsPage.tsx # 通知设置页面
│   └── PrivacySettingsPage.tsx # 隐私设置页面
├── components/             # 设置模块内组件
│   ├── SettingItem.tsx     # 设置项组件
│   ├── SettingSection.tsx  # 设置分区组件
│   ├── SwitchSetting.tsx   # 开关设置组件
│   └── SelectSetting.tsx   # 选择设置组件
├── services/               # 设置模块服务
│   ├── settingService.ts   # 设置服务
│   └── preferenceService.ts # 偏好服务
├── hooks/                  # 设置模块钩子
│   ├── useSettings.ts      # 设置钩子
│   └── usePreference.ts    # 偏好钩子
├── types/                  # 设置模块类型定义
│   └── setting.ts          # 设置类型定义
├── utils/                  # 设置模块工具函数
│   └── settingValidator.ts # 设置验证工具
└── index.ts                # 设置模块导出
```

## 6. 支付模块 (payment)

支付模块处理应用内的支付相关功能。

### 产品说明
- 支持多种支付方式（微信、支付宝、银行卡等）
- 实现支付订单创建和状态查询
- 提供支付安全验证和风控功能
- 支持退款申请和处理
- 实现支付记录和账单查询

### 目录架构
```
src/modules/payment/
├── pages/                  # 支付相关页面
│   ├── PaymentPage.tsx     # 支付页面
│   ├── OrderDetailPage.tsx # 订单详情页面
│   ├── PaymentHistoryPage.tsx # 支付历史页面
│   └── RefundPage.tsx      # 退款页面
├── components/             # 支付模块内组件
│   ├── PaymentMethodSelector.tsx # 支付方式选择组件
│   ├── OrderSummary.tsx    # 订单摘要组件
│   ├── PaymentForm.tsx     # 支付表单组件
│   └── PaymentResult.tsx   # 支付结果组件
├── services/               # 支付模块服务
│   ├── paymentService.ts   # 支付服务
│   ├── orderService.ts     # 订单服务
│   └── refundService.ts    # 退款服务
├── hooks/                  # 支付模块钩子
│   ├── usePayment.ts       # 支付钩子
│   └── useOrder.ts         # 订单钩子
├── types/                  # 支付模块类型定义
│   ├── payment.ts          # 支付类型定义
│   ├── order.ts            # 订单类型定义
│   └── refund.ts           # 退款类型定义
├── utils/                  # 支付模块工具函数
│   ├── paymentValidator.ts # 支付验证工具
│   └── paymentSecurity.ts  # 支付安全工具
└── index.ts                # 支付模块导出
```

## 7. 订单中心模块 (order)

订单中心模块管理用户的购买和销售订单。

### 产品说明
- 提供订单创建和管理功能
- 实现订单状态跟踪和物流信息
- 支持订单评价和售后服务
- 提供订单统计和报表功能
- 实现订单搜索和筛选

### 目录架构
```
src/modules/order/
├── pages/                  # 订单相关页面
│   ├── OrderListPage.tsx   # 订单列表页面
│   ├── OrderDetailPage.tsx # 订单详情页面
│   ├── CreateOrderPage.tsx # 创建订单页面
│   └── OrderTrackingPage.tsx # 订单跟踪页面
├── components/             # 订单模块内组件
│   ├── OrderCard.tsx       # 订单卡片组件
│   ├── OrderItem.tsx       # 订单项组件
│   ├── OrderStatusTracker.tsx # 订单状态追踪组件
│   └── OrderActions.tsx    # 订单操作组件
├── services/               # 订单模块服务
│   ├── orderService.ts     # 订单服务
│   └── orderTrackingService.ts # 订单跟踪服务
├── hooks/                  # 订单模块钩子
│   ├── useOrders.ts        # 订单钩子
│   └── useOrderTracking.ts # 订单跟踪钩子
├── types/                  # 订单模块类型定义
│   └── order.ts            # 订单类型定义
├── utils/                  # 订单模块工具函数
│   └── orderValidator.ts   # 订单验证工具
└── index.ts                # 订单模块导出
```

## 8. 商品模块 (product)

商品模块管理平台上的商品信息。

### 产品说明
- 提供商品列表和搜索功能
- 实现商品详情展示和规格选择
- 支持商品分类和标签管理
- 提供商品评价和问答功能
- 实现商品推荐和促销活动

### 目录架构
```
src/modules/product/
├── pages/                  # 商品相关页面
│   ├── ProductListPage.tsx # 商品列表页面
│   ├── ProductDetailPage.tsx # 商品详情页面
│   ├── CategoryPage.tsx    # 分类页面
│   └── ProductSearchPage.tsx # 商品搜索页面
├── components/             # 商品模块内组件
│   ├── ProductCard.tsx     # 商品卡片组件
│   ├── ProductImageGallery.tsx # 商品图片画廊组件
│   ├── ProductSpecSelector.tsx # 商品规格选择组件
│   └── ProductReviews.tsx  # 商品评价组件
├── services/               # 商品模块服务
│   ├── productService.ts   # 商品服务
│   └── categoryService.ts  # 分类服务
├── hooks/                  # 商品模块钩子
│   ├── useProducts.ts      # 商品钩子
│   └── useCategories.ts    # 分类钩子
├── types/                  # 商品模块类型定义
│   ├── product.ts          # 商品类型定义
│   └── category.ts         # 分类类型定义
├── utils/                  # 商品模块工具函数
│   └── productValidator.ts # 商品验证工具
└── index.ts                # 商品模块导出
```

## 9. Feeds流模块 (feeds)

Feeds流模块提供内容发布和信息流展示功能。

### 产品说明
- 实现信息流内容展示和刷新
- 支持图文、视频等多种内容形式
- 提供内容发布和编辑功能
- 实现内容点赞、评论、转发
- 支持个性化推荐算法

### 目录架构
```
src/modules/feeds/
├── pages/                  # Feeds相关页面
│   ├── FeedsPage.tsx       # 信息流页面
│   ├── PostDetailPage.tsx  # 内容详情页面
│   ├── CreatePostPage.tsx  # 发布内容页面
│   └── MyFeedsPage.tsx     # 我的动态页面
├── components/             # Feeds模块内组件
│   ├── PostCard.tsx        # 动态卡片组件
│   ├── PostActions.tsx     # 动态操作组件
│   ├── PostCreator.tsx     # 内容发布器组件
│   └── CommentList.tsx     # 评论列表组件
├── services/               # Feeds模块服务
│   ├── feedService.ts      # 信息流服务
│   └── postService.ts      # 内容服务
├── hooks/                  # Feeds模块钩子
│   ├── useFeeds.ts         # 信息流钩子
│   └── usePosts.ts         # 内容钩子
├── types/                  # Feeds模块类型定义
│   ├── feed.ts             # 信息流类型定义
│   └── post.ts             # 内容类型定义
├── utils/                  # Feeds模块工具函数
│   └── feedFormatter.ts    # 信息流格式化工具
└── index.ts                # Feeds模块导出
```

## 10. 通知模块 (notification)

通知模块处理系统和应用的通知消息。

### 产品说明
- 提供系统通知和应用内消息
- 实现通知分类和优先级管理
- 支持通知推送和静默模式
- 提供通知历史记录和清除功能
- 实现通知个性化设置

### 目录架构
```
src/modules/notification/
├── pages/                  # 通知相关页面
│   ├── NotificationListPage.tsx # 通知列表页面
│   └── NotificationSettingPage.tsx # 通知设置页面
├── components/             # 通知模块内组件
│   ├── NotificationItem.tsx # 通知项组件
│   ├── NotificationBadge.tsx # 通知徽章组件
│   └── NotificationFilter.tsx # 通知过滤组件
├── services/               # 通知模块服务
│   └── notificationService.ts # 通知服务
├── hooks/                  # 通知模块钩子
│   └── useNotifications.ts # 通知钩子
├── types/                  # 通知模块类型定义
│   └── notification.ts     # 通知类型定义
├── utils/                  # 通知模块工具函数
│   └── notificationFilter.ts # 通知过滤工具
└── index.ts                # 通知模块导出
```

## 11. 聊天模块 (chat)

聊天模块提供基于文本的消息交流功能。

### 产品说明
- 提供一对一和群组聊天功能
- 支持消息历史记录和搜索
- 实现消息状态显示（发送、已读等）
- 提供聊天室和话题讨论功能
- 支持聊天机器人和智能助手

### 目录架构
```
src/modules/chat/
├── pages/                  # 聊天相关页面
│   ├── ChatRoomPage.tsx    # 聊天室页面
│   ├── DirectMessagePage.tsx # 私信页面
│   └── GroupChatPage.tsx   # 群聊页面
├── components/             # 聊天模块内组件
│   ├── MessageComposer.tsx # 消息编辑器组件
│   ├── MessageThread.tsx   # 消息线程组件
│   └── OnlineIndicator.tsx # 在线状态指示器组件
├── services/               # 聊天模块服务
│   └── chatService.ts      # 聊天服务
├── hooks/                  # 聊天模块钩子
│   └── useChat.ts          # 聊天钩子
├── types/                  # 聊天模块类型定义
│   └── chat.ts             # 聊天类型定义
├── utils/                  # 聊天模块工具函数
│   └── messageProcessor.ts # 消息处理工具
└── index.ts                # 聊天模块导出
```

## 12. 媒体资源模块 (media)

媒体资源模块处理图片、视频、音频等媒体内容。

### 产品说明
- 提供媒体文件上传和管理功能
- 实现媒体预览和播放功能
- 支持多种媒体格式和压缩处理
- 提供媒体库和收藏功能
- 实现媒体版权和权限管理

### 目录架构
```
src/modules/media/
├── pages/                  # 媒体相关页面
│   ├── MediaLibraryPage.tsx # 媒体库页面
│   ├── MediaUploadPage.tsx # 媒体上传页面
│   └── MediaViewerPage.tsx # 媒体查看页面
├── components/             # 媒体模块内组件
│   ├── ImagePreview.tsx    # 图片预览组件
│   ├── VideoPlayer.tsx     # 视频播放器组件
│   ├── MediaUploader.tsx   # 媒体上传器组件
│   └── MediaGrid.tsx       # 媒体网格组件
├── services/               # 媒体模块服务
│   ├── mediaService.ts     # 媒体服务
│   └── uploadService.ts    # 上传服务
├── hooks/                  # 媒体模块钩子
│   └── useMedia.ts         # 媒体钩子
├── types/                  # 媒体模块类型定义
│   └── media.ts            # 媒体类型定义
├── utils/                  # 媒体模块工具函数
│   ├── mediaProcessor.ts   # 媒体处理工具
│   └── mediaValidator.ts   # 媒体验证工具
└── index.ts                # 媒体模块导出
```

## 13. 搜索模块 (search)

搜索模块提供全文搜索和智能推荐功能。

### 产品说明
- 实现多维度内容搜索功能
- 提供智能联想和热门搜索
- 支持搜索历史和收藏功能
- 实现搜索结果排序和过滤
- 提供个性化搜索推荐

### 目录架构
```
src/modules/search/
├── pages/                  # 搜索相关页面
│   ├── SearchPage.tsx      # 搜索页面
│   ├── SearchResultPage.tsx # 搜索结果页面
│   └── SearchHistoryPage.tsx # 搜索历史页面
├── components/             # 搜索模块内组件
│   ├── SearchBar.tsx       # 搜索栏组件
│   ├── SearchSuggestion.tsx # 搜索建议组件
│   └── SearchFilter.tsx    # 搜索过滤器组件
├── services/               # 搜索模块服务
│   └── searchService.ts    # 搜索服务
├── hooks/                  # 搜索模块钩子
│   └── useSearch.ts        # 搜索钩子
├── types/                  # 搜索模块类型定义
│   └── search.ts           # 搜索类型定义
├── utils/                  # 搜索模块工具函数
│   └── searchProcessor.ts  # 搜索处理工具
└── index.ts                # 搜索模块导出
```

## 14. 个人资料模块 (profile)

个人资料模块管理用户的个人页面和展示信息。

### 产品说明
- 提供个人主页展示功能
- 实现资料编辑和隐私设置
- 支持个人作品和成就展示
- 提供粉丝互动和社交功能
- 实现个人数据分析和统计

### 目录架构
```
src/modules/profile/
├── pages/                  # 个人资料相关页面
│   ├── ProfilePage.tsx     # 个人主页
│   ├── EditProfilePage.tsx # 编辑资料页面
│   └── ProfilePrivacyPage.tsx # 资料隐私页面
├── components/             # 个人资料模块内组件
│   ├── ProfileHeader.tsx   # 资料头部组件
│   ├── ProfileStats.tsx    # 资料统计数据组件
│   └── ProfileTabs.tsx     # 资料标签页组件
├── services/               # 个人资料模块服务
│   └── profileService.ts   # 个人资料服务
├── hooks/                  # 个人资料模块钩子
│   └── useProfile.ts       # 个人资料钩子
├── types/                  # 个人资料模块类型定义
│   └── profile.ts          # 个人资料类型定义
├── utils/                  # 个人资料模块工具函数
│   └── profileValidator.ts # 个人资料验证工具
└── index.ts                # 个人资料模块导出
```

## 15. 社交模块 (social)

社交模块提供用户之间的社交互动功能。

### 产品说明
- 实现用户关注和取消关注
- 提供好友推荐和社交圈功能
- 支持动态分享和互动
- 实现社交游戏和活动参与
- 提供社交数据分析和洞察

### 目录架构
```
src/modules/social/
├── pages/                  # 社交相关页面
│   ├── SocialHomePage.tsx  # 社交首页
│   ├── FriendListPage.tsx  # 好友列表页面
│   └── SocialActivityPage.tsx # 社交活动页面
├── components/             # 社交模块内组件
│   ├── SocialCard.tsx      # 社交卡片组件
│   ├── FollowButton.tsx    # 关注按钮组件
│   └── SocialFeed.tsx      # 社交信息流组件
├── services/               # 社交模块服务
│   └── socialService.ts    # 社交服务
├── hooks/                  # 社交模块钩子
│   └── useSocial.ts        # 社交钩子
├── types/                  # 社交模块类型定义
│   └── social.ts           # 社交类型定义
├── utils/                  # 社交模块工具函数
│   └── socialValidator.ts  # 社交验证工具
└── index.ts                # 社交模块导出
```

## 16. 数据分析模块 (analytics)

数据分析模块提供应用数据统计和分析功能。

### 产品说明
- 实现用户行为数据收集
- 提供可视化数据报表和图表
- 支持自定义指标和维度
- 实现数据预警和异常检测
- 提供数据导出和分享功能

### 目录架构
```
src/modules/analytics/
├── pages/                  # 数据分析相关页面
│   ├── DashboardPage.tsx   # 数据仪表盘页面
│   ├── AnalyticsReportPage.tsx # 分析报告页面
│   └── CustomMetricsPage.tsx # 自定义指标页面
├── components/             # 数据分析模块内组件
│   ├── ChartContainer.tsx  # 图表容器组件
│   ├── MetricCard.tsx      # 指标卡片组件
│   └── FilterPanel.tsx     # 过滤面板组件
├── services/               # 数据分析模块服务
│   └── analyticsService.ts # 数据分析服务
├── hooks/                  # 数据分析模块钩子
│   └── useAnalytics.ts     # 数据分析钩子
├── types/                  # 数据分析模块类型定义
│   └── analytics.ts        # 数据分析类型定义
├── utils/                  # 数据分析模块工具函数
│   └── dataProcessor.ts    # 数据处理工具
└── index.ts                # 数据分析模块导出
```